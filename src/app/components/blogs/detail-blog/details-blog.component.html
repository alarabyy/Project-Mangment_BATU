<!-- src/app/components/blogs/detail-blog/details-blog.component.html -->
<div *ngIf="isLoading" class="feedback-container">
  <div class="spinner"></div>
  <p>Loading blog post...</p>
</div>

<div *ngIf="!isLoading && blogDetails" class="blog-detail-container">
  <header class="blog-header">
    <img *ngIf="blogDetails.headerImage" [src]="imagesBaseUrl + blogDetails.headerImage" alt="{{ blogDetails.title }}" class="header-image">
    <div class="header-overlay">
      <h1>{{ blogDetails.title }}</h1>
      <p class="published-date">Published: {{ blogDetails.publishedAt | date:'mediumDate' }}</p>
    </div>
  </header>

  <section class="blog-content">
    <p>{{ blogDetails.content }}</p>
  </section>

  <section *ngIf="blogDetails.images && blogDetails.images.length > 0" class="blog-gallery">
    <h2>Gallery</h2>
    <div class="gallery-grid">
      <!-- UPDATED: لا يوجد تغيير هنا، فقط التأكد من أن blogDetails.images هو مصفوفة -->
      <img *ngFor="let imageUrl of blogDetails.images" [src]="imagesBaseUrl + imageUrl" alt="Blog Gallery Image" class="gallery-image">
    </div>
  </section>

  <div class="blog-actions">
    <a [routerLink]="['/blogs']" class="btn btn-secondary">Back to Blogs</a>
    <!-- زر التعديل إذا كان المستخدم لديه صلاحية -->
    <a [routerLink]="['/admin/blogs/edit', blogDetails.id]" class="btn btn-primary">Edit Post</a>
  </div>
</div>

<div *ngIf="!isLoading && !blogDetails" class="feedback-container">
  <p>Blog post not found.</p>
  <a [routerLink]="['/blogs']" class="btn btn-secondary">Back to Blogs</a>
</div>
