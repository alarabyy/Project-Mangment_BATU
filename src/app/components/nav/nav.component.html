<!-- src/app/components/navbar/nav/nav.component.html -->
<nav class="navbar" [class.dark]="isDarkMode" [class.search-active]="isSearchActive">
  <div class="navbar-section left">
    <button class="menu-toggle navbar-icon-btn" [class.active]="isMenuOpen" (click)="toggleMenu()">
      <div class="hamburger"><span></span><span></span><span></span></div>
    </button>
  </div>
  <div class="navbar-section center">
    <a routerLink="/Home" class="logo" title="Go to Home">
      <i class="fas fa-sitemap"></i> <span>BATU-Projects</span>
    </a>
  </div>
  <div class="navbar-section right desktop-actions">
    <ng-container *ngIf="authService.isLoggedIn()">
      <a routerLink="/MyProfile" class="navbar-icon-btn user-avatar-btn" title="My Profile"><i class="fas fa-user-graduate"></i></a>
    </ng-container>
    <!-- أزرار أخرى مثل تغيير الثيم -->
  </div>
</nav>

<div class="dropdown-menu" [class.show]="isMenuOpen" [class.dark]="isDarkMode">
  <div class="menu-header" *ngIf="authService.isLoggedIn()">
    <div class="user-profile-compact">
        <i class="fas fa-user-circle menu-profile-icon"></i>
        <div class="user-details">
            <h4>Welcome, {{ userRole | titlecase }}!</h4>
            <p>Project Contributor</p>
        </div>
    </div>
    <button class="close-menu-btn" (click)="toggleMenu()">×</button>
  </div>

  <ul class="menu-items">
    <ng-container *ngIf="authService.isLoggedIn()">
      <!-- روابط مشتركة -->
      <li class="menu-category"><span><i class="fas fa-user-circle"></i> General</span></li>
      <li><a (click)="onMenuItemClick('/projects')" routerLinkActive="active-link"><span class="menu-icon"><i class="fas fa-folder-open"></i></span>Projects</a></li>
      <li><a (click)="onMenuItemClick('/Chat')" routerLinkActive="active-link"><span class="menu-icon"><i class="fas fa-comments"></i></span>Ask AI</a></li>
      <li><a (click)="onMenuItemClick('/MyProfile')" routerLinkActive="active-link"><span class="menu-icon"><i class="fas fa-id-card"></i></span>My Profile</a></li>

      <!-- روابط Admin -->
      <ng-container *ngIf="userRole === 'admin'">
        <li class="menu-category"><span><i class="fas fa-user-shield"></i> Admin Panel</span></li>
        <li><a (click)="onMenuItemClick('/FacultyList')"><span class="menu-icon"><i class="fas fa-university"></i></span>Faculties</a></li>
        <li><a (click)="onMenuItemClick('/DepartmentsList')"><span class="menu-icon"><i class="fas fa-building"></i></span>Departments</a></li>
        <li><a (click)="onMenuItemClick('/CategoryList')"><span class="menu-icon"><i class="fas fa-tags"></i></span>Categories</a></li>
      </ng-container>

      <!-- روابط Student -->
      <ng-container *ngIf="userRole === 'student'">
        <li class="menu-category"><span><i class="fas fa-user-graduate"></i> Student Zone</span></li>
        <li><a (click)="onMenuItemClick('/projects/add')"><span class="menu-icon"><i class="fas fa-plus-circle"></i></span>Add Project</a></li>
      </ng-container>

      <!-- روابط Doctor -->
      <ng-container *ngIf="userRole === 'doctor'">
        <li class="menu-category"><span><i class="fas fa-user-md"></i> Doctor Tools</span></li>
        <li><a (click)="onMenuItemClick('/projects/add')"><span class="menu-icon"><i class="fas fa-plus-circle"></i></span>Add Project Idea</a></li>
      </ng-container>
    </ng-container>

    <!-- روابط عامة للجميع -->
    <li class="menu-separator"></li>
    <li><a (click)="onMenuItemClick('/Privacy')"><span class="menu-icon"><i class="fas fa-life-ring"></i></span>Help & Support</a></li>
    <li><a (click)="onMenuItemClick('/documentaion')"><span class="menu-icon"><i class="fas fa-folder-open"></i></span>Documentation</a></li>
    <hr>

    <!-- روابط الزوار -->
    <ng-container *ngIf="!authService.isLoggedIn()">
      <li><a (click)="onMenuItemClick('/Login')"><span class="menu-icon"><i class="fas fa-sign-in-alt"></i></span>Login</a></li>
      <li><a (click)="onMenuItemClick('/SignUp')"><span class="menu-icon"><i class="fas fa-user-plus"></i></span>Sign Up</a></li>
    </ng-container>

    <!-- تسجيل الخروج -->
    <li *ngIf="authService.isLoggedIn()">
      <a (click)="onLogout()" style="cursor: pointer;"><span class="menu-icon"><i class="fas fa-sign-out-alt"></i></span>Logout</a>
    </li>
  </ul>
</div>
